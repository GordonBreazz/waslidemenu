/**
 * waSlideMenu - jQuery plugin for menu organization like Facebook Help Page.
 * @version v1.0.7
 * @link https://github.com/webasyst/waslidemenu
 * @license MIT
 */
!function(e,n,t,o){"use strict";e.waSlideMenu=function(t,o){var a="SlideMenu",l=this;l._addCssNamespace=function(n,t){var o={};return e.each(n,function(e,n){"string"==typeof n&&(o[e]=t+a+n)}),o},l._setup=function(){l.o=e.extend({},e.waSlideMenu.defaults,o),l.o.classNames=l._addCssNamespace(l.o.classNames,l.o.namespace),l.$waSlideMenu=e(t),l.$waSlideMenu.data(a,l),l.$backs=[],l.$items=l.$waSlideMenu.find(l.o.itemSelector),l.$waSlideMenu.addClass(l.o.classNames.navigationClass),l.$movable=e("<div/>",{"class":l.o.classNames.wrapperClass}),l.$inheritedMenus=l.$waSlideMenu.find(l.o.menuSelector),l.$rootMenu=e(l.$inheritedMenus.splice(0,1)),l.$rootMenu.addClass(l.o.classNames.allMenusClass).appendTo(l.$movable.prependTo(l.$waSlideMenu)),l.$inheritedMenus.addClass(l.o.classNames.allMenusClass+" "+l.o.classNames.inheritedMenuClass);var n=l.$items.prop("tagName");l.$inheritedMenus.each(function(t,o){var a=e(o).closest(l.o.itemSelector).children("a").attr("href"),i=e("<"+n+"/>",{"class":l.o.classNames.menuItemBackClass}),s=l.o.setTitle?e(o).closest(l.o.itemSelector).children("a").text():l.o.backLinkContent;l.o.backOnTop?i.prependTo(e(o)):i.appendTo(e(o)),l.$backs.push(i.append(e("<a>",{href:a}).html(s)))}),l.o.minHeightMenu>0&&(l.o.minHeightMenu=l.o.minHeightMenu>l.$waSlideMenu.height()?l.o.minHeightMenu:l.$waSlideMenu.height(),l.$waSlideMenu.css("min-height",l.o.minHeightMenu)),l.o.previousHeight=0,l.o.nowSliding=!1},l.gotoSelected=function(e,n){l._hideOtherMenus(e,l._scrollToTop),l._heightFix(e),l._animateSlide(e,n)},l._animateSlide=function(e,n){var t=Math.abs(100*e),o=e>0?l.o.onSlideForward:l.o.onSlideBack;o&&"function"==typeof o&&o(l),n?(l.o.nowSliding=!0,l.$movable.animate({left:e>0?"-="+t+"%":"+="+t+"%"},l.o.slideSpeed,l.o.slideEasing,function(){l.o.nowSliding=!1,l._scrollToTop(e),l.o.afterSlide&&"function"==typeof l.o.afterSlide&&l.o.afterSlide(l)})):l.$movable.css("left","-"+t+"%")},l._scrollToTop=function(t){var o=l.$currentMenuElement.children(l.o.menuSelector),a=!!l.$currentMenuElement.hasClass(l.o.classNames.menuItemBackClass);if(l.o.scrollToTopSpeed&&(a||o.length>0)){var i=t>0?o.children(l.o.itemSelector).last():l.$currentMenuElement,s=t>0?i.closest(l.o.menuSelector):l.$currentMenuElement,r=i.offset().top,c=e(n).scrollTop();r-c<0&&e("html, body").animate({scrollTop:s.offset().top},l.o.scrollToTopSpeed)}},l._heightFix=function(e){if(l.o.autoHeightMenu){var n=0,t=0;e>0?(t=l.$currentMenuElement.offset().top-l.$waSlideMenu.offset().top+l.$currentMenuElement.outerHeight(),n=l.$currentMenuElement.children(l.o.menuSelector).height(),n=n<t?n=t:n):n=l.$currentMenuElement.closest(l.o.menuSelector).height(),e<0&&(n=n>l.o.previousHeight?n:l.o.previousHeight),n=n>l.o.minHeightMenu?n:l.o.minHeightMenu,l.o.previousHeight=n,l.$waSlideMenu.css("height",n)}},l._hideOtherMenus=function(e){var n=l.$currentMenuElement.parentsUntil("."+l.o.classNames.navigationClass).filter(l.o.itemSelector);n.push(l.$currentMenuElement[0]),e>0&&(l.$inheritedMenus.css("visibility","hidden"),n.children(l.o.menuSelector).css("visibility","visible"))},l.loadContent=function(t,o){var i=e("<span/>",{"class":l.o.classNames.loadingClass}).html("&nbsp;"),s='<div style="clear:both"></div>';l.o.loadContainer.length>0&&t.length>0&&e.inArray(o,l.o.excludeUri)<0&&location.origin+o!==n.location.href&&(l.o.beforeLoad&&"function"==typeof l.o.beforeLoad?l.o.beforeLoad.apply(t):t.html(i).append(s),e.ajax({url:o,type:"get"}).done(function(e){t.html(e+s),l.changeTitle(),l.changeUri(o),l.o.afterLoadDone&&"function"==typeof l.o.afterLoadDone&&l.o.afterLoadDone.apply(t),l.$waSlideMenu.trigger("afterLoadDone."+l.o.namespace+a)}).fail(function(){l.$currentMenuElement.siblings().children("."+l.o.classNames.menuItemBackClass).trigger("click"),l.o.afterLoadFail&&"function"==typeof l.o.afterLoadFail&&l.o.afterLoadFail.apply(t),l.$waSlideMenu.trigger("afterLoadFail."+l.o.namespace+a)}).always(function(){l.o.afterLoadAlways&&"function"==typeof l.o.afterLoadAlways&&l.o.afterLoadAlways.apply(t),l.$waSlideMenu.trigger("afterLoadAlways."+l.o.namespace+a)}))},l.changeTitle=function(){l.o.setTitle&&e("title").text(l.$currentMenuElement.children("a").text())},l.changeUri=function(e){n.history&&history.pushState&&n.history.pushState({},"",e)},l._menuItemClicked=function(n,t,o){if(t.preventDefault(),t.stopPropagation(),l.o.nowSliding)return!1;if(l.o.excludeClass&&e(n).hasClass(l.o.excludeClass))return!1;l.$currentMenuElement=e(n).parent(l.o.itemSelector);var i=e(n).attr("href"),s=l.$currentMenuElement.children(l.o.menuSelector),r=!!l.$currentMenuElement.hasClass(l.o.classNames.menuItemBackClass),c=e(l.o.loadContainer);l.$waSlideMenu.find(l.o.itemSelector).filter("."+l.o.selectedClass).removeClass(l.o.selectedClass),r&&(l.$currentMenuElement=l.$currentMenuElement.closest(l.o.menuSelector).closest(l.o.itemSelector)),l.$currentMenuElement.addClass(l.o.selectedClass),l.o.loadOnlyLatest===!1?l.loadContent(c,i):l.o.loadOnlyLatest&&0===s.length&&o>0&&l.loadContent(c,i),0===s.length&&o>0&&(l.o.onLatestClick&&"function"==typeof l.o.onLatestClick&&l.o.onLatestClick.apply(n),l.$waSlideMenu.trigger("onLatestClick."+l.o.namespace+a)),(s.length>0||o<0)&&l.gotoSelected(o,!0)},l._menuDown=function(e){l._menuItemClicked(this,e,1)},l._menuUp=function(e){l._menuItemClicked(this,e,-1)},l._remove=function(){l.$items.off("click","a",l._menuDown),l.$waSlideMenu.removeClass(l.o.classNames.navigationClass),l.o.autoHeightMenu&&l.$waSlideMenu.css("height","initial"),l.o.minHeightMenu>0&&l.$waSlideMenu.css("min-height","initial"),l.$rootMenu.removeClass(l.o.classNames.allMenusClass).prependTo(l.$waSlideMenu),l.$inheritedMenus.removeClass(l.o.classNames.allMenusClass+" "+l.o.classNames.inheritedMenuClass),l.$inheritedMenus.css("visibility",""),e.each(l.$backs,function(e,n){n.remove()}),l.$movable.remove(),l.$waSlideMenu.removeData(a)},l.exec=function(e){l.hasOwnProperty(e)&&"function"==typeof l[e]&&l[e].call()},l.destroy=function(){l._remove()},l.init=function(){l._setup(),e.each(l.$backs,function(e,n){n.on("click","a",l._menuUp)}),l.$items.on("click","a",l._menuDown),n.history&&history.pushState&&(n.onpopstate=function(e){e&&e.state&&location.reload()});var t=l.$waSlideMenu.find("."+l.o.selectedClass).first();if(t.length){l.$currentMenuElement=t;var o=l.$currentMenuElement.children("a").first(),i=t.parentsUntil("."+l.o.classNames.navigationClass).filter(l.o.itemSelector).length,s=t.children(l.o.menuSelector).length;e.inArray(o.attr("href"),l.o.excludeUri)<0&&(s>0&&(i+=1),l.gotoSelected(i,!1),l._heightFix(s))}l.o.onInit&&"function"==typeof l.o.onInit&&l.o.onInit(l),l.$waSlideMenu.trigger("onInit."+l.o.namespace+a)};var i=e(t).data(a);"object"==typeof i?e.each(o,function(e,n){"function"==typeof i[e]?i[e](n):i.o.hasOwnProperty(e)&&(i.o[e]=n)}):l.init()},e.waSlideMenu.defaults={namespace:"wa",slideSpeed:400,slideEasing:"linear",backLinkContent:"Back",backOnTop:!1,selectedClass:"selected",loadContainer:"",minHeightMenu:0,autoHeightMenu:!0,excludeUri:["/","#"],excludeClass:"",loadOnlyLatest:!1,menuSelector:"ul",itemSelector:"li",setTitle:!1,scrollToTopSpeed:0,onInit:null,onSlideForward:null,onSlideBack:null,onLatestClick:null,afterSlide:null,beforeLoad:null,afterLoadAlways:null,afterLoadDone:null,afterLoadFail:null,classNames:{navigationClass:"-nav",wrapperClass:"-wrapper",allMenusClass:"-menu",inheritedMenuClass:"-inheritedmenu",menuItemBackClass:"-back",loadingClass:"-loading"}},e.fn.waSlideMenu=function(n,t){return this.each(function(){var o;"object"!=typeof n&&"undefined"!=typeof t?(o={},o[n]=t):o=n;new e.waSlideMenu(this,o)})}}(jQuery,window,document);